---
title: String Objects
excerpt: String Objects
date: 2023-01-23
type: Docs
category: Reference
tags: string
---


String Objects ä¸»è¦ç”¨äºè¡¨ç¤ºå’Œæ“ä½œ**å­—ç¬¦åºåˆ—**ã€‚


## Create String

åˆ›å»ºå­—ç¬¦ä¸²ä¸»è¦æœ‰ä»¥ä¸‹æ–¹å¼ï¼š

1. å­—é¢é‡æ–¹å¼
```js
const str = 'hi'
```
2. é€šè¿‡`String()`æ„é€ å‡½æ•°æ¥åˆ›å»º
```js
const strObj = new String('hi')
```
3. ä¸ä½¿ç”¨`new`è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»º
```js
const str1 = String('hi')
```

è¿™å‡ ç§æ–¹å¼å¯ä»¥å½’çº³ä¸º**å­—ç¬¦ä¸²åŸå§‹å€¼**å’Œ**å­—ç¬¦ä¸²å¯¹è±¡**ä¸¤ç§æ–¹å¼ã€‚

å­—ç¬¦ä¸²å­—é¢é‡å’Œä¸ä½¿ç”¨`new`è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„å­—ç¬¦ä¸²æ˜¯**å­—ç¬¦ä¸²åŸå§‹å€¼**ï¼Œé€šè¿‡`new`è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„æ˜¯å­—ç¬¦ä¸²
å¯¹è±¡ã€‚

<Note>
  åœ¨è°ƒç”¨åŸå§‹å­—ç¬¦ä¸²çš„æ–¹æ³•æˆ–è€…è¿›è¡Œå±æ€§æŸ¥æ‰¾çš„ä¸Šä¸‹æ–‡ä¸­ï¼ŒJavaScriptä¼šè‡ªåŠ¨åŒ…è£…åŸå§‹å­—ç¬¦ä¸²å¹¶åœ¨åŒ…è£…åŸå§‹å­—ç¬¦ä¸²å¯¹è±¡ä¸Š
  è°ƒç”¨æ–¹å¼æˆ–è€…å±æ€§æŸ¥æ‰¾
  ```js
  typeof str; // string
  typeof strObj // object
  typeof str1; // string
  ```
</Note>

<Pitfall>
  æ³¨æ„ï¼Œåœ¨ä½¿ç”¨`eval`æ—¶ï¼ŒåŸå§‹å€¼å’Œå¯¹è±¡ä¼šè¡¨ç°ä¸åŒçš„æ•ˆæœã€‚
  ```js
  const str = '2 + 2';
  const strObj = new String('2 + 2');
  eval(str); // 4
  eval(strObj); // String{'2 + 2'}
  ```
</Pitfall>

**å­—ç¬¦ä¸²å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²åŸå§‹å€¼è½¬æ¢**

```js
strObj.valueOf(); // '2 + 2'
```

## å­—ç¬¦ä¸²æ¯”è¾ƒ

å­—ç¬¦ä¸²çš„æ¯”è¾ƒæ˜¯åŸºäºå­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„[Unicodeç¼–ç å€¼](/docs/typeGrammar/other/unicode#ç ç‚¹)æ¥å†³å®šé¡ºåºçš„ã€‚
ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š
- æ¯”è¾ƒè¿ç®—ç¬¦
- é€å­—æ¯”è¾ƒ
- å¤§å°å†™æ¯”è¾ƒï¼šUnicodeç ç‚¹ï¼ˆå¤§å°å†™ä¸åŒï¼‰
- è¯­è¨€ç¯å¢ƒæ¯”è¾ƒï¼š `localeCompare()`



## Constructor

`String()` æ„é€ å‡½æ•°åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå½“ä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼Œä½œä¸ºå­—ç¬¦ä¸²åŸå§‹å€¼å¹¶ä¸”è¿›è¡Œç±»å‹è½¬æ¢ã€‚

<Blockquote>
`String(value)`è°ƒç”¨æ—¶æ‰§è¡Œçš„æ­¥éª¤ï¼š
  - If value is not present, then
    - Let s be the empty String.
  - else
    - If NewTarget is undefined and value is a Symbol, return `SymbolDescriptiveString(value)`.
    - Let s be ? [ToString(value)](/docs/typeGrammar/operations/typeConversion#tostring).
  - If NewTarget is undefined, return s.
  - Return StringCreate(s, ? `GetPrototypeFromConstructor(NewTarget, "%String.prototype%"))`.
</Blockquote>

éœ€è¦æ³¨æ„çš„æ˜¯å¦æ˜¯å‡½æ•°è°ƒç”¨è¿˜æ˜¯æ„é€ å‡½æ•°ï¼Œå…¶æ¬¡æ˜¯`value`çš„å€¼ç±»å‹ï¼Œè¿™é‡Œå…·ä½“è¦çœ‹`ToString`çš„å†…éƒ¨å®ç°æ–¹å¼ã€‚
è¿˜æœ‰`String(Symbol('s'))`æ˜¯**å”¯ä¸€ä¸€ç§å°†Symbolè½¬æ¢ä¸ºStringä¸æŠ›å‡ºå¼‚å¸¸çš„è½¬æ¢æ–¹å¼**ã€‚


## Static Methods

### fromCharCode

**`String.fromCharCode(...codeUnits)`é™æ€æ–¹æ³•è¿”å›ç”±æŒ‡å®šçš„UTF-16ç å…ƒåºåˆ—åˆ›å»ºçš„å­—ç¬¦ä¸²ã€‚**

1. å‚æ•°`codeUnits`ï¼šä¸€ä¸ªä»‹äº`0`åˆ°`65535`(2<sup>16</sup>-1)ä¹‹é—´çš„æ•°å­—ï¼ˆåè¿›åˆ¶ï¼‰ï¼Œè¡¨ç¤ºä¸€ä¸ªUTF-16ç å…ƒåºåˆ—åˆ›å»ºçš„å­—ç¬¦ä¸²ã€‚
å¦‚æœå¤§äºBMPï¼ˆ0xFFFFï¼‰çš„æ•°å­—ä¼šè¢«æˆªæ–­ä¸ºæœ€åçš„16ä½ï¼Œä¸è¿›è¡Œæœ‰æ•ˆçš„æ£€æŸ¥ã€‚
2. è¿”å›å€¼ï¼šä¸€ä¸ªé•¿åº¦ä¸º`N`çš„å­—ç¬¦ä¸²ï¼Œç”±`N`ä¸ªæŒ‡å®šçš„UTF-16ç å…ƒç»„æˆã€‚



**ä½¿ç”¨**

1. ä» Unicode å€¼ç”Ÿæˆå­—ç¬¦

```js
const charA = String.fromCharCode(65);
const charB = String.fromCharCode(6554); // á¦š
```

2. å¤„ç†å­—ç¬¦ç¼–ç 
å½“ä½ ä»æŸä¸ªæ•°æ®æµæˆ–äºŒè¿›åˆ¶æ–‡ä»¶ä¸­è¯»å–å­—ç¬¦ç¼–ç å€¼ï¼Œå¹¶éœ€è¦å°†å…¶è½¬æ¢ä¸ºå¯è¯»å­—ç¬¦æ—¶ï¼š

```js
const byteArray = [72, 101, 108, 108, 111];
const readString = byteArray.reduce((prev, cur) => prev + String.fromCharCode(cur), ''); // Hello
```

3. æ„å»ºå­—ç¬¦åºåˆ—
å¯ä»¥ç”¨äºç”Ÿæˆä¸€ç³»åˆ—å­—ç¬¦ï¼Œä¾‹å¦‚å­—æ¯è¡¨æˆ–ç‰¹æ®Šç¬¦å·åºåˆ—ï¼š

```js
let strLetter = ''
for(let i = 65; i < 90; i++) {
  strLetter += String.fromCharCode(i);
}
// 'ABCDEFGHIJKLMNOPQRSTUVWXY'
```

4. ç‰¹æ®Šç¬¦å·æˆ–æ§åˆ¶å­—ç¬¦çš„ç”Ÿæˆ

```js
const newLine = String.fromCharCode(10); // æ¢è¡Œç¬¦
const tab = String.fromCharCode(9); // åˆ¶è¡¨ç¬¦
const combined = 'Line1' + newLine + 'Line2' + tab + 'Tabbed';
console.log(combined);
// è¾“å‡º:
// Line1
// Line2    Tabbed
```

5. å¤„ç†å›½é™…åŒ–å­—ç¬¦

```js
const smiley = String.fromCharCode(0x263A); //è¾“å‡º: "â˜º"
const smiley = String.fromCharCode(0x101C); //è¾“å‡º: 'á€œ'
```

### fromCodePoint

`String.fromCodePoint(...codePoints )` é™æ€æ–¹æ³•å°†æ ¹æ®æŒ‡å®šçš„ç ä½åºåˆ—è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

1. å‚æ•°`codePoints`ï¼šä¸€ä¸ªä»‹äº 0 å’Œ 0x10FFFFï¼ˆåŒ…æ‹¬ä¸¤è€…ï¼‰ä¹‹é—´çš„æ•´æ•°ï¼Œè¡¨ç¤ºä¸€ä¸ª Unicode ç ä½ã€‚
2. è¿”å›å€¼ï¼šé€šè¿‡ä½¿ç”¨æŒ‡å®šçš„ç ä½åºåˆ—åˆ›å»ºçš„å­—ç¬¦ä¸²ã€‚
3. å¼‚å¸¸ï¼šå¦‚æœä¸åœ¨èŒƒå›´ä¹‹å†…ï¼Œæ€ä¼šæŠ›å‡ºRangeErrorçš„å¼‚å¸¸ã€‚

**ä¸fromCharCodeçš„æ¯”è¾ƒ**

- æ”¯æŒçš„ç ä½èŒƒå›´
  - `String.fromCharCode` ä»…æ”¯æŒ BMP å†…çš„ç ä½ï¼ˆ0x0000 åˆ° 0xFFFFï¼‰ã€‚
  - `String.fromCodePoint` æ”¯æŒæ‰€æœ‰ Unicode ç ä½ï¼ˆ0x0000 åˆ° 0x10FFFFï¼‰ã€‚
- å¤„ç†è¶…å‡º BMP çš„å­—ç¬¦
  - `String.fromCharCode`æ— æ³•ç›´æ¥å¤„ç†è¶…å‡º BMP çš„å­—ç¬¦ï¼Œéœ€è¦æ‰‹åŠ¨å¤„ç†ä»£ç†å¯¹ã€‚
    ```js
    // æ¯”å¦‚ ç ä½ U+1F303 ä»£ç†å¯¹ 0xd83c, 0xdf03
    String.fromCharCode(0xd83c, 0xdf03); // ç ä½ U+1F303ï¼ˆå¤œæ™šä¸æ˜Ÿæ˜Ÿï¼‰=== "\uD83C\uDF03"
    ```
  - `String.fromCodePoint` å¯ä»¥ç›´æ¥ç”Ÿæˆè¶…å‡º BMP çš„å­—ç¬¦ï¼Œæ— éœ€é¢å¤–å¤„ç†ã€‚
    ```js
    // æ¯”å¦‚ ç ä½ U+1F303
    String.fromCodePoint(0x1F303); // ç ä½ U+1F303ï¼ˆå¤œæ™šä¸æ˜Ÿæ˜Ÿï¼‰'ğŸŒƒ'
    ```
- æ˜“ç”¨æ€§å’Œå®‰å…¨æ€§
  - `String.fromCodePoint` æ›´æ˜“ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†åŒ…æ‹¬è¡¨æƒ…ç¬¦å·å’Œå…¶ä»–è¶…å‡º BMP çš„å­—ç¬¦æ—¶ï¼Œæ›´åŠ å¯é å’Œæ–¹ä¾¿ã€‚


### raw

String.raw() é™æ€æ–¹æ³•æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²çš„æ ‡ç­¾å‡½æ•°ã€‚å®ƒç”¨äºè·å–æ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—ç¬¦ä¸²å½¢å¼â€”â€”å³ï¼Œæ›¿æ¢è¡¨è¾¾å¼ï¼ˆä¾‹å¦‚ `${foo}`ï¼‰ä¼šè¢«æ›¿æ¢å¤„ç†ï¼Œä½†è½¬ä¹‰åºåˆ—ï¼ˆä¾‹å¦‚ \nï¼‰ä¸ä¼šè¢«å¤„ç†ã€‚

ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ç”¨é€”ï¼š
- åŸæ ·è¾“å‡ºï¼šString.raw ä¼šæŒ‰å­—é¢å€¼è¾“å‡ºæ¨¡æ¿å­—ç¬¦ä¸²ä¸­çš„å†…å®¹ï¼Œä¸å¯¹è½¬ä¹‰å­—ç¬¦è¿›è¡Œè§£é‡Šæˆ–è½¬æ¢ã€‚
- å¤šè¡Œå­—ç¬¦ä¸²ï¼šå¯ä»¥ç”¨äºå¤šè¡Œå­—ç¬¦ä¸²å¤„ç†ã€‚
- å¤„ç†ç‰¹æ®Šå­—ç¬¦ï¼šå°¤å…¶é€‚åˆå¤„ç†åŒ…å«åæ–œæ æˆ–å…¶ä»–è½¬ä¹‰å­—ç¬¦çš„å­—ç¬¦ä¸²

**ä½¿ç”¨ç¤ºä¾‹**

1. ç®€å•æ¨¡æ¿å­—ç¬¦ä¸²
```js
// \n ä¸ä¼šè¢«è§£é‡Šä¸ºæ¢è¡Œç¬¦ï¼Œè€Œæ˜¯æŒ‰å­—é¢å€¼è¾“å‡ºã€‚
let rawString = String.raw`Hello\nWorld`; // Hello\nWorld
```
2. å¤šè¡Œå­—ç¬¦ä¸²
```js
// \n ä¸ä¼šè¢«è§£é‡Šä¸ºæ¢è¡Œç¬¦ï¼Œè€Œæ˜¯æŒ‰å­—é¢å€¼è¾“å‡ºã€‚
let rawString = String.raw`First line\nSecond line\nThird line`; // Hello\nWorld
```
3. ç”Ÿæˆæ­£åˆ™è¡¨è¾¾å¼-åœ¨æ„å»ºåŒ…å«å¤§é‡åæ–œæ çš„æ­£åˆ™è¡¨è¾¾å¼æ—¶éå¸¸æœ‰ç”¨ã€‚
```js
// \n ä¸ä¼šè¢«è§£é‡Šä¸ºæ¢è¡Œç¬¦ï¼Œè€Œæ˜¯æŒ‰å­—é¢å€¼è¾“å‡ºã€‚
let rawString = String.raw`^\d{3}\-\d{2}\-\d{4}$`; // ^\d{3}\-\d{2}\-\d{4}$
```
4. ç”Ÿæˆæ–‡ä»¶è·¯å¾„ï¼šå¤„ç†æ–‡ä»¶è·¯å¾„æ—¶ï¼Œå¯ä»¥é¿å…åæ–œæ è¢«è§£é‡Šä¸ºè½¬ä¹‰å­—ç¬¦ã€‚
```js
// \n ä¸ä¼šè¢«è§£é‡Šä¸ºæ¢è¡Œç¬¦ï¼Œè€Œæ˜¯æŒ‰å­—é¢å€¼è¾“å‡ºã€‚
let rawString = String.raw`C:\Users\Alice\Documents\file.txt`; // C:\Users\Alice\Documents\file.txt
```


## å­—ç¬¦ä¸²è½¬æ¢
## æ¨¡æ¿å­—ç¬¦ä¸²